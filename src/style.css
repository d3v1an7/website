@tailwind base;
@tailwind components;
@tailwind utilities;

/* NOTE: Changes to this file require a manual browser refresh for now. */

@layer base {
  .wrapper {
    @apply mx-auto w-full;
  }
  .padding-x {
    @apply px-6;
    @apply sm:px-8;
  }
  .padding-y {
    @apply py-12;
    @apply sm:py-16;
  }
  .width-site {
    @apply max-w-7xl;
  }
  .width-reading {
    @apply max-w-4xl;
  }
}

@layer components {
  h1,
  h2,
  h3,
  h4,
  h5,
  h6 {
    @apply font-sans text-xl font-bold uppercase text-stone-900 sm:text-2xl dark:text-stone-50;
  }
  h1 {
    @apply text-6xl sm:text-7xl;
  }
  time {
    @apply font-sans text-sm uppercase tracking-wider text-stone-600 dark:text-stone-300;
  }
  body {
    @apply font-mono text-lg/relaxed lining-nums text-stone-800 sm:text-xl/relaxed dark:text-stone-200;
  }
  hr {
    @apply my-8 h-px border-0 bg-stone-400 dark:bg-stone-700;
  }
  svg {
    @apply pointer-events-none inline-block;
  }
  .full h1,
  .full h2,
  .full h3,
  .full h4,
  .full h5,
  .full h6,
  .full p {
    @apply mb-10;
  }
  .full header h1,
  .summary h3 {
    @apply mb-1;
  }
  .full p.standfirst {
    @apply text-2xl;
  }
  .full ul {
    @apply list-disc;
  }
  .full ol {
    @apply list-decimal;
  }
  .full li {
    @apply mb-3 ml-5;
  }
  .full a {
    @apply link-underline;
    @apply focus-state;
  }
  .link-underline {
    @apply hover:link-underline-hover underline decoration-1 underline-offset-4;
  }
  .link-underline-hover {
    @apply hover:underline hover:decoration-violet-600 hover:decoration-4 hover:underline-offset-4;
  }
  .link-hover {
    @apply hover:text-violet-600 dark:hover:text-violet-400;
  }
  .btn {
    @apply inline-flex touch-manipulation select-none items-center justify-center rounded-md px-5 py-3 text-base transition duration-150 ease-in-out;
    @apply focus-state;
  }
  nav ol {
    @apply flex min-h-6 flex-row items-center;
  }
  nav li a {
    @apply link-hover h-6 px-1.5 py-1 leading-6;
    @apply focus-state;
  }
  nav.menu li:first-child a {
    @apply pl-0;
  }
  nav.menu li a {
    @apply px-3;
  }
  nav.breadcrumbs li:first-child a {
    @apply inline-block py-0 pl-0;
  }
  nav.breadcrumbs li::after {
    @apply hidden px-1 content-['/'] first:inline-block last:hidden sm:inline-block dark:text-stone-400;
  }
  #theme-toggle[aria-checked='false'] #toggle-indicator {
    @apply translate-x-0;
  }
  #theme-toggle[aria-checked='true'] #toggle-indicator {
    @apply translate-x-6;
  }
  .toggle-ready {
    @apply transition duration-200 ease-in-out;
  }
}

@layer utilities {
  ::selection {
    @apply bg-violet-200 dark:bg-violet-400;
  }
  .focus-state {
    @apply focus:outline-none focus-visible:outline focus-visible:outline-4 focus-visible:outline-offset-2 focus-visible:outline-violet-600;
  }
}
